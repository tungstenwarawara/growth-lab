# Dev Team v2 — Agent Team Template
#
# 6体制フルチーム構成（大賢者オーケストレーション）
# MCP + tmux ハイブリッドアーキテクチャ
#
# Usage:
#   ./agent-team/scripts/setup-team.sh ./agent-team/templates/dev-team
#
# v2 変更点:
#   - UI/UX Designer 追加（Figma MCP連携）
#   - Marketing Strategist 追加（Twitter/Zenn/note MCP連携）
#   - 大賢者がオーケストレーターとして全体を統括

team:
  name: dev-team
  version: "2.0"
  description: "6体制フルチーム — 開発・デザイン・マーケティングの統合チーム"
  max_concurrent: 3  # Claude Max $200/月の制約内（同時稼働上限）

  # tmux session 設定
  session:
    name: agent-team
    layout: tiled  # tiled | even-horizontal | even-vertical

  # 共有ワークスペース（自動作成）
  workspace:
    tasks: .agent-team/tasks
    messages: .agent-team/messages
    status: .agent-team/status
    output: .agent-team/output
    content: .agent-team/content  # v2: コンテンツ管理

  # === 大賢者（Team Lead / Orchestrator）===
  lead:
    name: great-sage
    role: orchestrator
    instructions: roles/lead.md
    description: "全体オーケストレーション・タスク自動生成・進捗監視・スキル吸収"
    model: opus
    mcp_servers:
      - filesystem
      - git
      - memory

  # === 実装メンバー ===
  members:
    - name: frontend
      role: frontend-developer
      instructions: roles/frontend.md
      description: "UI実装、コンポーネント開発、状態管理"
      model: sonnet
      mcp_servers:
        - filesystem
        - web-fetch

    - name: backend
      role: backend-developer
      instructions: roles/backend.md
      description: "API・DB・認証・決済ロジック実装"
      model: sonnet
      mcp_servers:
        - filesystem
        - database

    - name: uiux-designer
      role: ui-ux-designer
      instructions: roles/uiux-designer.md
      description: "デザインシステム、Figma連携、ビジュアル品質"
      model: sonnet
      mcp_servers:
        - filesystem
        - figma
        - web-fetch

    - name: marketing-strategist
      role: marketing-strategist
      instructions: roles/marketing-strategist.md
      description: "コンテンツ戦略、SNS運用、SEO、コピーライティング"
      model: sonnet
      mcp_servers:
        - filesystem
        - twitter
        - zenn
        - note
        - web-fetch

  # === レビュアー ===
  reviewer:
    name: reviewer
    role: code-reviewer
    instructions: roles/reviewer.md
    description: "コードレビュー・品質チェック・セキュリティ検証"
    model: haiku
    mcp_servers:
      - filesystem
      - git

# コスト設計メモ（v2）:
# - 大賢者(Lead) + 4 Members + Reviewer = 6エージェント
# - 同時稼働は max_concurrent: 3 に制限
# - 運用パターン:
#   A) 開発集中: 大賢者 + Frontend + Backend（Reviewer は完了後に起動）
#   B) デザイン: 大賢者 + Frontend + UI/UX Designer
#   C) マーケ集中: 大賢者 + Marketing + UI/UX Designer
#   D) レビュー: 大賢者 + Reviewer + 修正担当1名
# - ファイルベース通信でオーケストレーションのトークン消費ゼロ
# - MCP は必要時のみ接続（常時接続しない）
